**3200105788 孙川 智能家居管理系统 设计文档**

# 一、需求分析

## 1.1	业务需求

任选Web开发技术实现一个用于智能家居设备管理的系统，支持智能家居的创建监控和调节

## 1.2	功能需求

需要实现的基本功能如下：

1.   用户注册、登录功能
     1.   用户名：6字符以上，且唯一
     2.   密码：6字符以上，必须含有数字、字母(区分大小写)
     3.   手机号：11位手机号，且唯一
2.   创建场所
     1.   登录之后，跳转至创建场所界面
     2.   每个用户可以有不同的场所，且会保留历史记录
     2.   提供画图功能，画出场所图
3.   创建房间
     1.   只有进入某个场所后，才能在该场所内创建房间
     2.   每个房间仅对应一个场所
     3.   一个场所可以有多个房间
4.   创建智能设备
     1.   只有进入某个房间后，才能在该房间内创建智能设备
     2.   每个房间可以有多个智能设备
     3.   智能设备根据模板创建，在添加用户的自定义设置
5.   智能设备的种类
     1.   灯：支持开关、亮度调节
     2.   其它智能设备的开关
     3.   传感器：温湿度查看、其它信息的查看
     4.   门锁：开关门状态
6.   列表信息查看设备状态
7.   可视化界面查看设备状态
     1.   在房间内上摆放设备
     3.   提供一些模板
8.   可以在手机上查看，手机应用可以是网页，也可以是app

后端程序基于express的nodejs程序，前端基于vue3开发。数据库使用远程mysql数据库

# 二、核心数据模型

在数据库中，我们需要存储的表的结构如下图所示



![image-20221107000635414](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221107000635414.png)

数据模型分为三部分：用户、场所以及设备。

用户管理将用户的邮箱/电话号码设置为主键，用户名和密码作为普通键值。

场所模型：每个场所对应一个名称，每个用户对应多个场所。

设备模型：每个设备都有自身的id，以及种类的编号。每个场所可以对应多个设备。这些设备是互相继承的关系

![image-20221107194051822](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221107194051822.png)

# 三、主要功能实现的界面原型

## 3.1	登录/注册界面

如果没有登陆，那么登陆注册界面是此系统的默认主界面。正中心显示登陆和注册选项，简约明了。

在开发后期，我会对界面的风格针对不同种类的ui进行调整，使其也同样适用于手机端/app浏览。

![image-20221106233737212](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221106233737212.png)

登陆后显示的欢迎页面，因为用户名是Test，所以显示的是“Hello Test”。右上角是退出登录选项。点击正中的欢迎信息可以进入场所的管理界面。

![image-20221106235509161](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221106235509161.png)

## 3.2	房间创建/选择界面

在场所管理界面中，用户可以对用户名下的房屋进行创建和选择。

房屋有三种预设户型，其图片和说明会在随后的开发中进行增添。

用户可以在右半部分的搜索部分查看并查找自己想要进行管理的特定房屋。

![image-20221106235532248](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221106235532248.png)



## 3.3	房间界面

下图是房间界面。用户可以在给定的户型模板上进行对户型的自定义修改。

前端渲染模式基于WebGL的three.js。整个房间的自定义设置类似于沙盒模式，用户可以在想要的位置增加自己的智能终端，并设置/监控其设备参数。

![image-20221106235435408](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221106235435408.png)



# 四、流程说明

![image-20221107200301923](https://cdn.jsdelivr.net/gh/SankHyan24/image1/img/image-20221107200301923.png)